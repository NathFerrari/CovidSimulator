<!DOCTYPE html>
<html>
	<head>
	    <title>Covid Simulator</title>
	    <link rel="icon" href="i1afernatfav.ico" type="image/x-icon">
	    <meta cahrset="UTF-8">
	    <meta name="description" content="covid simulator">
	    <meta name="keywords" contenent="HTML,CSS,XML,JavaScript">
	    <meta name="author" content="Nathan Ferrari">
	    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	  
	    <link rel="stylesheet" href="./css.css">
	    <script src="./Human.js"></script>
		<script src="./script.js"></script>
		<script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
	</head>
    
	<body id="body" onload="readInput()">
		
		<div class="menu" id="menu" onclick="menuIconOpen(this)">
			<div class="bar1"></div>
			<div class="bar2"></div>
			<div class="bar3"></div>
		</div><br>

		<div id="parametriSimulazione">
			<input type="button" id="createHuman" value="Create Human" onclick="readInput()"><br>
		
			<h2>Persone iniziali</h2>
			<input type="number" id="totHuman" value="40">

			<h2>Contagi iniziali(rossi)</h2>
			<input type="range" id="contagiati" min="1" max="100" 
			value="10" onchange="checkSliderValue('contagiati')">
			<p>Value: <span id="pcontagiati">10%</span></p>

			<h2>Vaccinati iniziali(blu)</h2>
			<input type="checkbox" id="vaccinatiAsk" 
			onchange="implementCheckBoxes('vaccinatiAsk','vaccinati')">
			<input type="range" id="vaccinati" min="0" max="100"
			value="0" onchange="checkSliderValue('vaccinati')" disabled>
			<p>Value: <span id="pvaccinati">0%</span></p>

			<h2>Persone con Mascherina iniziali(verdi)</h2>
			<input type="checkbox" id="conMascherinaAsk"
			onchange="implementCheckBoxes('conMascherinaAsk','conMascherina')">
			<input type="range" min="0" max="100" value="0" 
			id="conMascherina" 
			onchange="checkSliderValue('conMascherina')" disabled>
			<p>Value: <span id="pconMascherina">0%</span></p>
		</div>

		<div id="gameZone">
			<h1 id="title">Covid Simulator</h1>
			<canvas id="container" width="600" height="500"></canvas><br>
			<input type="button" id="start" value="Start" onclick="startMovementInterval()">
			<input type="button" id="pause" value="Pause" onclick="pauseMovementInterval()">
			<input type="button" id="stop" value="Reset" onclick="stop()">
		</div>

		<div id="statistics">
			<label>Sani iniziali: </label><label id="startHealty"></label><br>
			<input type="range" id="startHealtyRange" min="0" max="100" disabled><br>
			<label>Sani totali: </label><label id="totalHealty"></label><br>
			<input type="range" id="totalHealtyRange" min="0" max="100" disabled><br>
			<label>Contagi iniziali: </label><label id="startInfect"></label><br>
			<input type="range" id="startInfectRange" min="0" max="100" disabled><br>
			<label>Contagi attuali: </label><label id="momentInfect"></label><br>
			<input type="range" id="momentInfectRange" min="0" max="100" disabled><br>
			<label>Vaccinati iniziali: </label><label id="startVaccinated"></label><br>
			<input type="range" id="startVaccinatedRange" min="0" max="100" disabled><br>
			<label>Sani vaccinati: </label><label id="vaccinatedHealty"></label><br>
			<input type="range" id="vaccinatedHealtyRange" min="0" max="100" disabled><br>
			<label>Vaccinati infetti: </label><label id="vaccinatedInfected"></label><br>
			<input type="range" id="vaccinatedInfectedRange" min="0" max="100" disabled><br><br>
			<label>Portatori di mascherina iniziali: </label><label id="startWithMask"></label><br>
			<input type="range" id="startWithMaskRange" min="0" max="100" disabled><br>
			<label>Sani con mascherina: </label><label id="withMaskHealty"></label><br>
			<input type="range" id="withMaskHealtyRange" min="0" max="100" disabled><br>
			<label>Portatori di mascherina infetti: </label><label id="withMaskInfected"></label><br>
			<input type="range" id="withMaskInfectedRange" min="0" max="100" disabled><br>

			<div id="grafico"></div>
			<script>
				var xArray = [];
				var yArray = [];
				var second = 0;
				setInterval(printPlot, 1000);
				function printPlot(){
					if(window.sessionStorage.getItem('stato') == 'start'){
						second++;
						yArray.push(window.sessionStorage.getItem('infect'));
						xArray.push(second);
					}else if(window.sessionStorage.getItem('stato') == 'stop'){
						second = 0;
						xArray = [];
						yArray = [];
					}else if(window.sessionStorage.getItem('stato') == 'pause'){}

					// Define Data
					var data = [{
					x: xArray,
					y: yArray,
					mode:"lines"
					}];

					// Define Layout
					var layout = {
					xaxis: {title: "tempo(s)"},
					yaxis: {title: "contagi(unità)"},  
					title: "Contagi nel tempo"
					};

					// Display using Plotly
					Plotly.newPlot("grafico", data, layout);
				}
			</script>
		</div>

		<div id="home">
			<h3>Informazioni generali sulla malattia da coronavirus (COVID-19)</h3>
			<p>La malattia da coronavirus (COVID-19) è una malattia infettiva causata dal virus SARS-CoV-2.

				La maggior parte delle persone infettate dal virus avrà una malattia respiratoria da lieve a moderata e si riprenderà senza richiedere un trattamento speciale. Tuttavia, alcuni si ammaleranno gravemente e richiederanno assistenza medica. Le persone anziane e quelle con condizioni mediche sottostanti come malattie cardiovascolari, diabete, malattie respiratorie croniche o cancro hanno maggiori probabilità di sviluppare malattie gravi. Chiunque può ammalarsi di COVID-19 e ammalarsi gravemente o morire a qualsiasi età. 
				
				Il modo migliore per prevenire e rallentare la trasmissione è essere ben informati sulla malattia e su come il virus si diffonde. Proteggi te stesso e gli altri dal contagio stando ad almeno 1 metro di distanza dagli altri, indossando una maschera adeguata e lavandoti le mani o usando frequentemente una frizione a base di alcol. Fatti vaccinare quando è il tuo turno e segui le indicazioni locali.
				
				Il virus può diffondersi dalla bocca o dal naso di una persona infetta in piccole particelle liquide quando questa tossisce, starnutisce, parla, canta o respira. Queste particelle vanno da goccioline respiratorie più grandi ad aerosol più piccoli. È importante praticare l'etichetta respiratoria, per esempio tossendo in un gomito flesso, e rimanere a casa e autoisolarsi fino a quando non ci si riprende se non ci si sente bene.
			</p>

			<p></p>
		</div>

		<div id="menuSelection">
			<a onclick="menuSelectHome()">Home</a><br>
			<a onclick="menuSelectParametriSimulazione()">Parametri Simulazioe</a><br>
			<a onclick="menuSelectStatistiche()">Statistiche</a>
		</div>
	</body>
</html>